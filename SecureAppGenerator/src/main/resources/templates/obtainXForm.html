<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
	<head> 
	    <title>Secure App Generator</title> 
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  		  <link rel="stylesheet" type="text/css" media="all"  
     		 href="/css/main.css" th:href="@{../css/main.css}" />
 	</head>
	<body>
      	<img class="progressBarLocation" src="/images/Step3line.png" role="presentation" alt=""/>
		<div class="textFont progressStep1Location progressBarStepComplete" align="center">Name</div>
		<div class="textFont progressStep2Location progressBarStepComplete" align="center">Logo</div>
		<div class="textFont progressStep3Location progressBarStepActive" align="center">Form</div>
		<div class="textFont progressStep4Location progressBarStepInactive" align="center">Contact</div>
		<div class="textFont progressStep5Location progressBarStepInactive" align="center">Build</div>

      	<img class="cellphone" src="/images/cellphone.png" alt="Android Cellphone"/>
	   	<div class="cellphone_logo"><img class="cellphone_logo_size" th:src="${session.appConfig.appIconBase64Data}" role="presentation" alt=""/></div>
	   	<div class="textFont cellphone_title" th:text="${session.appConfig.appName}"></div>

		<div class="textFont cellphone_center_title" align="center"><p/>Secure Data Collection</div>
  		<div class="textFont cellphone_center_data" align="center"><p/>Customized for your projects</div>
     	<div class="textFont main_title">
     		<b>secureApp</b> Generator
		</div>
     	<div class="textFont sub_title" >
     		powered by<img  src="../images/MartusLogoWhite.png" alt="Martus" align="top"/>
		</div>
		
      	<div class="textFont page_title">
     		<h1>Choose or Upload a Custom XForm</h1>
 		</div>
   	
		<form method="POST" th:action="@{/obtainXFormPrevious}">
			<input class="textFont button_previous" name="previous" type="submit" value="&lt; Back"/>
		</form>

		<form  method="POST" enctype="multipart/form-data" th:action="@{/obtainXFormNext}" th:object="${appConfig}">
 			<div class="textFont info_area_3">
         		 <table>
         		 	<tr>
         		 		<td>
 	                    		<label for="defaultXFormSelection">
	                    				Form to Use:
                    			</label>
         		 		</td>
         		 		<td>
							<select id="defaultXFormSelection" th:onchange="'javascript:xformSelectionChange();'" name="selectedForm" >
			 					<option th:each="type : ${formsImpMap}" 
			        		    			th:value="${type.value}" 
			          				th:text="${type.key}">
			          			</option>
							</select>
						</td>
         		 	</tr>
	                <tr>
 	                    <td>
  	       					<input id="uploadCustomXFormButton" class = "textFont button_upload" type="file" name="file" th:onchange="'javascript:uploadxFormSelected();'"></input> 
  	                    	</td>
	                    <td>
	                    		<span class="textFont error_msg" th:if="*{appXFormError != null}" th:text="*{appXFormError}">Errors</span>
	                    	</td>
	                </tr>
                </table>
 				<p/>
         		<label for="uploadCustomXFormButton">
        				Upload your custom XForm .xml file.
       			</label>
 			</div>
			<input disabled="true" class="textFont button_next_disabled" id="next" name="next" type="submit" value="Continue &gt;"/>
		</form>
		<script src="./js/xFormSelection.js"></script>	
		<script src="./js/tota11y.min.js"></script>	
	</body>
</html>
